{"name":"bottle-hotqueue","body":"# bottlehotqueue\r\n\r\n\r\n_[bottle.py](http://bottlepy.org) is a fast and simple micro-framework for python web-applications._\r\n\r\n_[HotQueue](http://richardhenry.github.com/hotqueue/) is a Python library that allows you to use Redis as a message queue within your Python programs._\r\n\r\n## Installation\r\n\r\n    $ pip install bottle-hotqueue\r\n\r\n### From source:\r\n\r\n    $ python setup.py install\r\n\r\n### Dependencies:\r\n\r\n``bottle`` and ``hotqueue``\r\n\r\n## Getting Started\r\n\r\n### Importing and using the plugin in Bottle\r\n\r\n```python\r\nimport bottle\r\nfrom bottlehotqueue import Plugin\r\n\r\n\r\napp = bottle.Bottle()\r\nhotqueue = Plugin(keyword=\"myhotqueue\")\r\napp.install(hotqueue)\r\n\r\n\r\n@app.post('/put/:value', myhotqueue={'queue': 'myqueue'})\r\ndef send_message(value, myqueue):\r\n    \"\"\" This will put an item in the queue hotqueue:myqueue.\r\n    \"\"\"\r\n    return myqueue.put(value)\r\n\r\n\r\n@app.get('/get/', myhotqueue={'queue': 'myqueue'})\r\ndef get_message(myqueue):\r\n    \"\"\" We will now try to get a item from hotqueue:myqueue.\r\n        if the queue is empty, we instead raise a 404.\r\n    \"\"\"\r\n    result = myqueue.get()\r\n    if not result:\r\n        raise bottle.HTTPError(404, \"Queue is Empty\")\r\n    return result\r\n\r\nbottle.run(app, host='', port=8080)\r\n```\r\n\r\nThe plugin will use json (or simplejson if available) as the standard serializer. This behaviour can be reverted to match the default implementation by passing asjson=False when instantiating the plugin. It will then conform to the standard HotQueue way of serializing objects by using pickle (or cpickle if available).\r\n\r\n```python\r\nhotqueue = Plugin(keyword=\"myhotqueue\", asjson=False)\r\n```\r\n\r\n### Writing a simple consumer\r\n\r\n```python\r\nimport json\r\nfrom hotqueue import HotQueue\r\n\r\n\r\nqueue = HotQueue(\"myqueue\", host=\"localhost\", serializer=json)\r\n\r\nfor item in queue.consume():\r\n    print item\r\n\r\n```\r\nMore on HotQueue: http://richardhenry.github.com/hotqueue/\r\n\r\n### License\r\nMIT\r\n\r\n### Github links\r\n* https://github.com/defnull/bottle\r\n* https://github.com/richardhenry/hotqueue","tagline":"Redis Message Queue for bottle.py Built on HotQueue.","google":"","note":"Don't delete this file! It's used internally to help with page regeneration."}